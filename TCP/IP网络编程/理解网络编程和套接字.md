# 构建接电话套接字（将TCP比喻为电话机，这是服务器端）
1.创建套接字
```c
#include<sys/socket.h>
int socket(int domain,int type,int protocol);
//成功时返回文件描述符，失败返回-1  domain区域  protocol 协议
```
2.给创建好的套接字分配地址信息(IP地址和端口号)
```c
#include<sys/socket.h>
int bind(int sockfd,struct sockaddr* myaddr,socklen_t  addrlen);
//成功时返回0，失败是返回-1 sockfd是通过bind函数给socket绑定的名字
//socklen_t 与int 类似
```
3.调用listen函数,把套接字转化为可接收连接的状态
```c
#include<sys/socket.h>
int listen(int sockfd,int backlog);
//成功时返回0 失败时返回-1
//backlog指定了一个监听状态的套接字能够接受的未处理连接请求的最大数量。
```
4.如果有人为了完成数据传输而请求连接，用accept函数进行受理
```c
#include<sys/socket.h>
int accept(int sockfd,struct sockaddr *addr,socklen_t *addrlen);
//成功时返回文件描述符，失败时返回-1
``` 
#构建打电话套接字(客户端套接字)
1.调用socket函数创建套接字
略
2.调用connect函数向服务器端发送连接请求
```c
#include<sys/socket.h>
int connect (int sockfd ,struct sockaddr * serv_addr,socklen_t addrlen);   
```
#在linux平台下运行
GCC(linux 下的 c语言编译器)
```cpp
gcc hello_server.c -o hserver
//编译hello_server文件并生成可执行文件hserver

./hserver
//运行当前目录下的hserver文件

//运行服务器端
gcc hello_server.c -o hserver //编译hello_server.c文件并生成可执行文件hserver
./hserver 9190 //运行当前目录下的hserver文件

//运行客户端
gcc hello_client.c -o hclient
./hclient 127.0.0.1 9190
```
#Linux 中的文件操作
linux中对socket的操作与文件的操作没有区别
而windows区分对socket的操作和对文件的操作

底层的含义:与标准无关的操作系统独立提供的1·



#使用linux gcc 编译 c语言
```cpp
1.//创建代码文件：在终端中使用文本编辑器创建编写 C 或 C++ 代码文件。例如，使用 nano 编辑器创建一个 “hello.c” 文件：
nano hello.c
2.//编写代码：在文本编辑器中编写程序代码。例如，编写一个简单的 “Hello World” 程序
#include <stdio.h>
int main()
{
   printf("Hello World!\n");
   return 0;
}
3.//ctrl+o 保存代码文件，重新取名为helloworld.c (这也是后面编译要用的名字) 点击yes
//crtl+x 退出nano编辑器
4.//编译代码：在终端中使用 GCC 编译代码文件。GCC 编译器的命令格式如下：
gcc helloworld.c -o helloworld
5.//运行程序：使用以下命令运行当前目录生成的可执行文件：
./helloworld

```
